\documentclass{article}
\usepackage{algpseudocode}
\usepackage{amsmath}
\usepackage{geometry}
\geometry{margin=1in}
\begin{document}
\title{Homework 2 Report}
\author{Yige Hu and Zhiting Zhu}
\date{}
\maketitle

% declaration of the new block
\algblock{ParFor}{EndParFor}
% customising the new block
\algnewcommand\algorithmicparfor{\textbf{parfor}}
\algnewcommand\algorithmicpardo{\textbf{do}}
\algnewcommand\algorithmicendparfor{\textbf{end\ parfor}}
\algrenewtext{ParFor}[1]{\algorithmicparfor\ #1\ \algorithmicpardo}
\algrenewtext{EndParFor}{\algorithmicendparfor}

\section{P1}
\begin{algorithmic}[1]
  \Function{rec\_psum}{$a, x_0, b, n$} \label{alg:a}
\item[]
  \If{(n == 1)}
  \State $s(0) = x_0; return; end;$
  \EndIf
\item[]
  \State $x = zeros(n/2, 1);$
  \State $a\_new = zeros(n/2 - 1, 1);$
  \State $x(0) = x_0;$
  \ParFor{$i = 1 : n$}
  \State $x(i) = b(i);$
  \EndParFor
\item[]
  \ParFor{$i = 0 : n/2 - 1$}
  \State $y(i) = x(2*i) * a(2*i+1) + x(2*i+1);$
  \If{(i != 0)}
  \State $a\_new(i) = a(2*i) * a(2*i+1);$
  \EndIf
  \EndParFor
\item[]
  \State $c = $ \Call{rec\_psum}{$a\_new, y(0), y[1 : n/2 - 1], n/2$} $;$
\item[]
  \State $s(0) = x_0;$
  \ParFor{$i = 1 : n - 1$}
  \If{isOdd(i)}
  \State $s(i) = c(i/2);$
  \Else
  \State $s(i) = c((i-1)/2) * a(i) + x(i);$
  \EndIf
  \EndParFor
\item[]
  \State \Return $s;$
  \EndFunction
\end{algorithmic}

\section{P2}

\section{P3}

\end{document}
